package rv

import (
	"testing"
)

func TestImmCI(t *testing.T) {
	testImm(t, "immCI", immCI, immTests{
		0b_1_00000_00000_00: 0b_11111111111111111111111111100000,
		0b_0_00000_10000_00: 0b_00000000000000000000000000010000,
		0b_0_00000_01000_00: 0b_00000000000000000000000000001000,
		0b_0_00000_00100_00: 0b_00000000000000000000000000000100,
		0b_0_00000_00010_00: 0b_00000000000000000000000000000010,
		0b_0_00000_00001_00: 0b_00000000000000000000000000000001,
		0b_1_00000_11111_00: 0b_11111111111111111111111111111111,
		0b_1_11111_11111_11: 0b_11111111111111111111111111111111,
	})
}

func TestImmCIx4(t *testing.T) {
	testImm(t, "immCIx4", immCIx4, immTests{
		0b_1_00000_000_00_00: 0b_00100000,
		0b_0_00000_100_00_00: 0b_00010000,
		0b_0_00000_010_00_00: 0b_00001000,
		0b_0_00000_001_00_00: 0b_00000100,
		0b_0_00000_000_10_00: 0b_10000000,
		0b_0_00000_000_01_00: 0b_01000000,
		0b_1_00000_111_11_00: 0b_11111100,
		0b_1_11111_111_11_11: 0b_11111100,
	})
}

func TestImmCIx16(t *testing.T) {
	testImm(t, "immCIx16", immCIx16, immTests{
		0b_1_00000_0_0_00_0_00: 0b_11111111111111111111111000000000,
		0b_0_00000_1_0_00_0_00: 0b_00000000000000000000000000010000,
		0b_0_00000_0_1_00_0_00: 0b_00000000000000000000000001000000,
		0b_0_00000_0_0_10_0_00: 0b_00000000000000000000000100000000,
		0b_0_00000_0_0_01_0_00: 0b_00000000000000000000000010000000,
		0b_0_00000_0_0_00_1_00: 0b_00000000000000000000000000100000,
		0b_1_00000_1_1_11_1_00: 0b_11111111111111111111111111110000,
		0b_1_11111_1_1_11_1_11: 0b_11111111111111111111111111110000,
	})
}

func TestImmCSS(t *testing.T) {
	testImm(t, "immCSS", immCSS, immTests{
		0b_1000_00_0000000: 0b_00100000,
		0b_0100_00_0000000: 0b_00010000,
		0b_0010_00_0000000: 0b_00001000,
		0b_0001_00_0000000: 0b_00000100,
		0b_0000_10_0000000: 0b_10000000,
		0b_0000_01_0000000: 0b_01000000,
		0b_1111_11_0000000: 0b_11111100,
		0b_1111_11_1111111: 0b_11111100,
	})
}

func TestImmCIW(t *testing.T) {
	testImm(t, "immCIW", immCIW, immTests{
		0b_10_0000_0_0_00000: 0b_0000100000,
		0b_01_0000_0_0_00000: 0b_0000010000,
		0b_00_1000_0_0_00000: 0b_1000000000,
		0b_00_0100_0_0_00000: 0b_0100000000,
		0b_00_0010_0_0_00000: 0b_0010000000,
		0b_00_0001_0_0_00000: 0b_0001000000,
		0b_00_0000_1_0_00000: 0b_0000000100,
		0b_00_0000_0_1_00000: 0b_0000001000,
		0b_11_1111_1_1_00000: 0b_1111111100,
		0b_11_1111_1_1_11111: 0b_1111111100,
	})
}

func TestImmFromCL(t *testing.T) {
	testImm(t, "immCL", immCL, immTests{
		0b_100_000_00_00000: 0b_0100000,
		0b_010_000_00_00000: 0b_0010000,
		0b_001_000_00_00000: 0b_0001000,
		0b_000_000_10_00000: 0b_0000100,
		0b_000_000_01_00000: 0b_1000000,
		0b_111_000_11_00000: 0b_1111100,
		0b_111_111_11_11111: 0b_1111100,
	})
}

func TestImmCB(t *testing.T) {
	testImm(t, "immCB", immCB, immTests{
		0b_1_00_000_00_00_0_00: 0b_11111111111111111111111100000000,
		0b_0_10_000_00_00_0_00: 0b_00000000000000000000000000010000,
		0b_0_01_000_00_00_0_00: 0b_00000000000000000000000000001000,
		0b_0_00_000_10_00_0_00: 0b_00000000000000000000000010000000,
		0b_0_00_000_01_00_0_00: 0b_00000000000000000000000001000000,
		0b_0_00_000_00_10_0_00: 0b_00000000000000000000000000000100,
		0b_0_00_000_00_01_0_00: 0b_00000000000000000000000000000010,
		0b_0_00_000_00_00_1_00: 0b_00000000000000000000000000100000,
		0b_1_11_000_11_11_1_00: 0b_11111111111111111111111111111110,
		0b_1_11_111_11_11_1_11: 0b_11111111111111111111111111111110,
	})
}

func TestImmCJ(t *testing.T) {
	testImm(t, "ImmFromCJ", immCJ, immTests{
		0b_1_0_00_0_0_0_000_0_00: 0b_11111111111111111111100000000000,
		0b_0_1_00_0_0_0_000_0_00: 0b_00000000000000000000000000010000,
		0b_0_0_10_0_0_0_000_0_00: 0b_00000000000000000000001000000000,
		0b_0_0_01_0_0_0_000_0_00: 0b_00000000000000000000000100000000,
		0b_0_0_00_1_0_0_000_0_00: 0b_00000000000000000000010000000000,
		0b_0_0_00_0_1_0_000_0_00: 0b_00000000000000000000000001000000,
		0b_0_0_00_0_0_1_000_0_00: 0b_00000000000000000000000010000000,
		0b_0_0_00_0_0_0_100_0_00: 0b_00000000000000000000000000001000,
		0b_0_0_00_0_0_0_010_0_00: 0b_00000000000000000000000000000100,
		0b_0_0_00_0_0_0_001_0_00: 0b_00000000000000000000000000000010,
		0b_0_0_00_0_0_0_000_1_00: 0b_00000000000000000000000000100000,
		0b_1_1_11_1_1_1_111_1_00: 0b_11111111111111111111111111111110,
		0b_1_1_11_1_1_1_111_1_11: 0b_11111111111111111111111111111110,
	})
}
